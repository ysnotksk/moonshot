var Moonshot=(()=>{(function(a){"use strict";class u{constructor(t={}){this.options={duration:2e3,easing:"easeOutCubic",startDelay:100,staggerDelay:100,selector:"[data-stat-value]",...t},this.stats=[],this.observer=null,this.init()}init(){let t=document.querySelectorAll(this.options.selector);t.length!==0&&(t.forEach((e,s)=>{let n=this.parseValue(e.getAttribute("data-stat-value")),o=e.getAttribute("data-stat-prefix")||"",i=e.getAttribute("data-stat-suffix")||"";n!==null&&this.stats.push({element:e,targetValue:n,prefix:o,suffix:i,index:s,animated:!1})}),this.setupObserver())}parseValue(t){if(!t)return null;let e=t.replace(/[^0-9.]/g,""),s=parseFloat(e);return isNaN(s)?null:t.includes("K")||t.toLowerCase().includes("k")?s*1e3:t.includes("M")||t.toLowerCase().includes("m")?s*1e6:t.includes("B")||t.toLowerCase().includes("b")?s*1e9:s}formatValue(t,e){let s=this.stats.find(r=>r.targetValue===t),n=s?.prefix||"",i=s?.suffix||"";if(!i&&e){let r=e.match(/[^0-9.KMBkmb]+$/);r&&(i=r[0])}if(e){if(e.includes("K")||e.toLowerCase().includes("k"))return n+(t/1e3).toFixed(t%1e3===0?0:1)+"K"+i;if(e.includes("M")||e.toLowerCase().includes("m"))return n+(t/1e6).toFixed(t%1e6===0?0:1)+"M"+i;if(e.includes("B")||e.toLowerCase().includes("b"))return n+(t/1e9).toFixed(t%1e9===0?0:1)+"B"+i;if(e.includes("%")&&!i.includes("%"))return n+Math.round(t)+"%"+i;if(e.includes("$"))return n+"$"+Math.round(t).toLocaleString()+i;if(e.includes("+")&&!i.includes("+"))return n+Math.round(t)+"+"+i;if(e.includes("<"))return n+"< "+Math.round(t)+i;if(e.includes("\u221E"))return n+"\u221E"+i}return n+Math.round(t).toLocaleString()+i}setupObserver(){if(!("IntersectionObserver"in a)){this.animateAll();return}this.observer=new IntersectionObserver(t=>{t.forEach(e=>{if(e.isIntersecting){let s=e.target.closest("[data-stats-section]")||e.target;this.animateStatsInContainer(s),this.observer.unobserve(e.target)}})},{threshold:.2,rootMargin:"0px 0px -50px 0px"}),this.stats.forEach(t=>{let e=t.element.closest("section")||t.element.parentElement;e&&this.observer.observe(e)})}animateStatsInContainer(t){this.stats.filter(s=>t.contains(s.element)&&!s.animated).forEach((s,n)=>{setTimeout(()=>{this.animateStat(s)},this.options.startDelay+n*this.options.staggerDelay)})}animateStat(t){if(t.animated)return;t.animated=!0;let e=t.element.getAttribute("data-stat-value"),s=0,n=t.targetValue,o=performance.now(),i=this.options.duration,r=f=>{let p=f-o,m=Math.min(p/i,1),b=this.ease(m,this.options.easing),g=s+(n-s)*b;t.element.textContent=this.formatValue(g,e),m<1?requestAnimationFrame(r):t.element.textContent=this.formatValue(n,e)};requestAnimationFrame(r)}animateAll(){this.stats.forEach((t,e)=>{setTimeout(()=>{this.animateStat(t)},this.options.startDelay+e*this.options.staggerDelay)})}ease(t,e){switch(e){case"easeOutCubic":return 1-Math.pow(1-t,3);case"easeOutQuad":return 1-(1-t)*(1-t);case"easeInOutCubic":return t<.5?4*t*t*t:1-Math.pow(-2*t+2,3)/2;case"linear":return t;default:return 1-Math.pow(1-t,3)}}destroy(){this.observer&&(this.observer.disconnect(),this.observer=null),this.stats=[]}}class h{constructor(t={}){this.toggleSelector=t.toggleSelector||"#navbar-toggle",this.menuSelector=t.menuSelector||"#navbar-menu",this.activeClass=t.activeClass||"ms-navbar__menu--open",this.toggle=null,this.menu=null,this.init()}init(){this.toggle=document.querySelector(this.toggleSelector),this.menu=document.querySelector(this.menuSelector),!(!this.toggle||!this.menu)&&(this.setActiveLink(),this.bindEvents())}setActiveLink(){let e=a.location.pathname.split("/").pop()||"index.html";this.menu.querySelectorAll("a.ms-navbar__link").forEach(n=>{let i=n.getAttribute("href").split("/").pop();n.classList.remove("ms-navbar__link--active"),(i===e||e===""&&i==="index.html"||e==="index.html"&&i==="front-page.html")&&n.classList.add("ms-navbar__link--active")})}bindEvents(){this.toggle.addEventListener("click",e=>{e.stopPropagation(),this.toggleMenu()}),document.addEventListener("click",e=>{this.isMenuOpen()&&!this.isClickInside(e)&&this.closeMenu()}),document.addEventListener("keydown",e=>{e.key==="Escape"&&this.isMenuOpen()&&(this.closeMenu(),this.toggle.focus())}),this.menu.querySelectorAll("a").forEach(e=>{e.addEventListener("click",()=>{this.closeMenu()})})}toggleMenu(){this.isMenuOpen()?this.closeMenu():this.openMenu()}openMenu(){this.menu.classList.add(this.activeClass),this.toggle.setAttribute("aria-expanded","true"),this.menu.setAttribute("aria-hidden","false")}closeMenu(){this.menu.classList.remove(this.activeClass),this.toggle.setAttribute("aria-expanded","false"),this.menu.setAttribute("aria-hidden","true")}isMenuOpen(){return this.menu.classList.contains(this.activeClass)}isClickInside(t){return this.toggle.contains(t.target)||this.menu.contains(t.target)}}class d{constructor(t={}){this.selector=t.selector||".ms-back-to-top",this.visibleClass=t.visibleClass||"ms-back-to-top--visible",this.threshold=t.threshold||300,this.button=null,this.init()}init(){this.button=document.querySelector(this.selector),this.button&&(a.addEventListener("scroll",()=>{a.scrollY>this.threshold?this.button.classList.add(this.visibleClass):this.button.classList.remove(this.visibleClass)},{passive:!0}),this.button.addEventListener("click",t=>{t.preventDefault(),a.scrollTo({top:0,behavior:"smooth"})}))}}function c(){document.querySelector(".ms-navbar")&&new h,document.querySelectorAll("[data-stat-value]").length>0&&new u,document.querySelector(".ms-back-to-top")&&new d}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",c):c(),a.Moonshot={Navigation:h,AnimatedStats:u,BackToTop:d,version:"0.2.0",init:c}})(window);})();
/**
 * Moonshot CSS Framework - Standalone Build (No modules)
 * This file can be used directly in browsers without module support
 *
 * @version 0.2.0
 * @license MIT
 */
