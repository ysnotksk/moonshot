/**
 * Moonshot CSS Framework - Variables (SCSS)
 * Sass variables, maps, and CSS Custom Properties generation
 */

// ========================================
// SASS VARIABLES (Build-time)
// ========================================

// Color Maps
$colors-white: (
  'white': #fafafa,
  'bg': #ffffff,
);
$colors-gray: (
  50: #f9fafb,
  100: #f3f4f6,
  200: #e5e7eb,
  300: #d1d5db,
  400: #9ca3af,
  500: #6b7280,
  600: #4b5563,
  700: #374151,
  800: #1f2937,
  900: #111827,
);
$colors-brand: (
  'primary': #374151,
  'secondary': #6b7280,
  'accent': #1f2937,
);
$colors-status: (
  'success': #10b981,
  'error': #ef4444,
  'warning': #f59e0b,
  'info': #3b82f6,
);

// Typography Maps
$font-families: (
  'sans': (
    system-ui,
    -apple-system,
    'Segoe UI',
    roboto,
    'Helvetica Neue',
    arial,
    'Noto Sans',
    sans-serif,
  ),
  'ja': (
    'Hiragino Kaku Gothic ProN',
    'Hiragino Sans',
    'Noto Sans JP',
    'Yu Gothic',
    'YuGothic',
    'Meiryo',
    sans-serif,
  ),
  'mono': (
    'SF Mono',
    monaco,
    'Cascadia Code',
    'Roboto Mono',
    consolas,
    'Courier New',
    monospace,
  ),
);
$font-sizes: (
  'xs': 0.75rem,
  'sm': 0.875rem,
  'base': 1rem,
  'lg': 1.125rem,
  'xl': 1.25rem,
  '2xl': 1.5rem,
  '3xl': 1.875rem,
  '4xl': 2.25rem,
  '5xl': 3rem,
  '6xl': 3.75rem,
);
$font-weights: (
  'normal': 400,
  'medium': 500,
  'semibold': 600,
  'bold': 700,
);
$line-heights: (
  'none': 1,
  'tight': 1.25,
  'snug': 1.375,
  'normal': 1.5,
  'relaxed': 1.625,
  'loose': 2,
);
$letter-spacings: (
  'tighter': -0.05em,
  'tight': -0.025em,
  'normal': 0,
  'wide': 0.025em,
  'wider': 0.05em,
  'widest': 0.1em,
);

// Spacing Map (8px base unit)
$spacings: (
  0: 0,
  1: 0.25rem,
  2: 0.5rem,
  3: 0.75rem,
  4: 1rem,
  5: 1.25rem,
  6: 1.5rem,
  8: 2rem,
  10: 2.5rem,
  12: 3rem,
  16: 4rem,
  20: 5rem,
  24: 6rem,
  32: 8rem,
);

// Breakpoints
$breakpoints: (
  'sm': 640px,
  'md': 768px,
  'lg': 1024px,
  'xl': 1280px,
  '2xl': 1440px,
);

// Max Widths
$max-widths: (
  'sm': 640px,
  'md': 768px,
  'lg': 1024px,
  'xl': 1280px,
  '2xl': 1440px,
  'full': 100%,
);

// Border Widths
$border-widths: (
  0: 0,
  1: 1px,
  2: 2px,
  4: 4px,
);

// Border Radius - Modern, generous radii
$radii: (
  'none': 0,
  'sm': 0.25rem,
  // 4px - subtle rounding
  'base': 0.5rem,
  // 8px - standard modern radius
  'md': 0.75rem,
  // 12px - comfortable medium
  'lg': 1rem,
  // 16px - generous, modern
  'xl': 1.5rem,
  // 24px - bold, impactful
  '2xl': 2rem,
  // 32px - hero elements
  '3xl': 3rem,
  // 48px - extra large
  'full': 9999px, // Perfect circles
);

// Shadows
$shadows: (
  'sm': (
    0 1px 2px 0 rgb(0 0 0 / 5%),
  ),
  'base': (
    0 1px 3px 0 rgb(0 0 0 / 10%),
    0 1px 2px 0 rgb(0 0 0 / 6%),
  ),
  'md': (
    0 4px 6px -1px rgb(0 0 0 / 10%),
    0 2px 4px -1px rgb(0 0 0 / 6%),
  ),
  'lg': (
    0 10px 15px -3px rgb(0 0 0 / 10%),
    0 4px 6px -2px rgb(0 0 0 / 5%),
  ),
  'xl': (
    0 20px 25px -5px rgb(0 0 0 / 10%),
    0 10px 10px -5px rgb(0 0 0 / 4%),
  ),
  '2xl': (
    0 25px 50px -12px rgb(0 0 0 / 25%),
  ),
  'none': (
    0 0 #00000000,
  ),
);

// Transitions
$transitions: (
  'fast': 150ms cubic-bezier(0.4, 0, 0.2, 1),
  'base': 250ms cubic-bezier(0.4, 0, 0.2, 1),
  'slow': 350ms cubic-bezier(0.4, 0, 0.2, 1),
);

// Z-Index
$z-indices: (
  0: 0,
  10: 10,
  20: 20,
  30: 30,
  40: 40,
  50: 50,
  'dropdown': 1000,
  'sticky': 1020,
  'fixed': 1030,
  'modal': 1040,
  'popover': 1050,
  'tooltip': 1060,
);

// ========================================
// CSS CUSTOM PROPERTIES GENERATION
// ========================================

:root {
  // Base Colors
  @each $name, $value in $colors-white {
    --ms-#{$name}: #{$value};
  }

  // Grayscale
  @each $weight, $value in $colors-gray {
    --ms-gray-#{$weight}: #{$value};
  }

  // Brand Colors (Client Customizable)
  @each $name, $value in $colors-brand {
    --ms-brand-#{$name}: #{$value};
  }

  // Status Colors
  @each $name, $value in $colors-status {
    --ms-#{$name}: #{$value};
  }

  // Gradient Colors (Client Customizable)
  --ms-gradient-from: var(--ms-gray-900);
  --ms-gradient-to: var(--ms-gray-500);
  --ms-gradient-angle: 135deg;

  // Semantic Colors
  --ms-text-primary: var(--ms-gray-900);
  --ms-text-secondary: var(--ms-gray-600);
  --ms-text-tertiary: var(--ms-gray-500);
  --ms-text-disabled: var(--ms-gray-400);
  --ms-text-on-brand: var(--ms-white);
  --ms-bg-primary: var(--ms-bg);
  --ms-bg-secondary: var(--ms-gray-50);
  --ms-bg-tertiary: var(--ms-gray-100);
  --ms-bg-disabled: var(--ms-gray-200);
  --ms-border-light: var(--ms-gray-200);
  --ms-border-medium: var(--ms-gray-300);
  --ms-border-dark: var(--ms-gray-400);

  // Font Families
  @each $name, $value in $font-families {
    --ms-font-#{$name}: #{$value};
  }

  // Font Sizes
  @each $name, $value in $font-sizes {
    --ms-text-#{$name}: #{$value};
  }

  // Font Weights
  @each $name, $value in $font-weights {
    --ms-font-#{$name}: #{$value};
  }

  // Line Heights
  @each $name, $value in $line-heights {
    --ms-leading-#{$name}: #{$value};
  }

  // Letter Spacings
  @each $name, $value in $letter-spacings {
    --ms-tracking-#{$name}: #{$value};
  }

  // Spacing
  @each $name, $value in $spacings {
    --ms-space-#{$name}: #{$value};
  }

  // Max Widths
  @each $name, $value in $max-widths {
    --ms-max-width-#{$name}: #{$value};
  }

  // Border Widths
  @each $name, $value in $border-widths {
    --ms-border-width-#{$name}: #{$value};
  }

  // Border Radius
  @each $name, $value in $radii {
    --ms-radius-#{$name}: #{$value};
  }

  // Shadows
  @each $name, $value in $shadows {
    --ms-shadow-#{$name}: #{$value};
  }

  // Transitions
  @each $name, $value in $transitions {
    --ms-transition-#{$name}: #{$value};
  }

  // Z-Index
  @each $name, $value in $z-indices {
    --ms-z-#{$name}: #{$value};
  }
}

// ========================================
// DARK MODE SUPPORT
// Class-based dark mode with system preference fallback
// ========================================

@mixin dark-mode-tokens {
  --ms-white: #ffffff;
  --ms-bg: #0a0a0a;

  // Inverted gray scale for dark backgrounds
  --ms-gray-50: #1a1a1a;
  --ms-gray-100: #262626;
  --ms-gray-200: #333333;
  --ms-gray-300: #404040;
  --ms-gray-400: #737373;
  --ms-gray-500: #a3a3a3;
  --ms-gray-600: #d4d4d4;
  --ms-gray-700: #e5e5e5;
  --ms-gray-800: #f5f5f5;
  --ms-gray-900: #fafafa;

  // Gradient colors
  --ms-gradient-from: var(--ms-gray-100);
  --ms-gradient-to: var(--ms-gray-500);

  // Semantic colors
  --ms-text-primary: var(--ms-gray-900);
  --ms-text-secondary: var(--ms-gray-600);
  --ms-text-tertiary: var(--ms-gray-500);
  --ms-text-disabled: var(--ms-gray-400);
  --ms-text-on-brand: var(--ms-white);
  --ms-bg-primary: var(--ms-bg);
  --ms-bg-secondary: var(--ms-gray-50);
  --ms-bg-tertiary: var(--ms-gray-100);
  --ms-bg-disabled: var(--ms-gray-200);
  --ms-border-light: var(--ms-gray-200);
  --ms-border-medium: var(--ms-gray-300);
  --ms-border-dark: var(--ms-gray-400);

  // Stronger shadows for dark mode
  --ms-shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 50%);
  --ms-shadow-base: 0 1px 3px 0 rgb(0 0 0 / 60%), 0 1px 2px 0 rgb(0 0 0 / 40%);
  --ms-shadow-md: 0 4px 6px -1px rgb(0 0 0 / 60%), 0 2px 4px -1px rgb(0 0 0 / 40%);
  --ms-shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 70%), 0 4px 6px -2px rgb(0 0 0 / 50%);
  --ms-shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 70%), 0 10px 10px -5px rgb(0 0 0 / 50%);
  --ms-shadow-2xl: 0 25px 50px -12px rgb(0 0 0 / 80%);
}

// Dark mode via explicit data attribute
[data-theme='dark'] {
  @include dark-mode-tokens;
}

// Dark mode via system preference (auto, unless explicitly overridden)
@media (prefers-color-scheme: dark) {
  :root:not([data-theme='light']) {
    @include dark-mode-tokens;
  }
}
